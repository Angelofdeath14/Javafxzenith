<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Line?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="tn.esprit.controller.FrontEventsController"
            prefHeight="720.0" prefWidth="1280.0"
            stylesheets="@professional_style.css">
    
    <!-- Barre supérieure avec logo, recherche et filtre -->
    <top>
        <VBox spacing="0">
            <!-- Barre principale avec dégradé de couleur -->
            <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="10">
                <padding>
                    <Insets top="10" right="15" bottom="10" left="15"/>
                </padding>
                
                <!-- Bouton retour avec style amélioré -->
                <Button fx:id="btnBack" text="← Retour" styleClass="button-neutral">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                </Button>
                
                <!-- Titre de l'application avec style élégant -->
                <Label styleClass="app-title" text="Artphoria" />
                
                <Region HBox.hgrow="ALWAYS" />
                       
                <!-- Bouton pour accéder à l'administration -->
                <Button fx:id="btnAdmin" text="Administration" onAction="#handleAdminAccess"
                       styleClass="button-info" style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 3, 0, 0, 1); -fx-padding: 8 15;" />
                
                <!-- Barre de recherche améliorée -->
                <HBox alignment="CENTER" spacing="8" styleClass="search-container">
                    <TextField fx:id="searchField" promptText="Rechercher un événement..." prefWidth="200" styleClass="search-field" />
                    
                    <ComboBox fx:id="filterTypeComboBox" prefWidth="120" promptText="Tous les types" styleClass="filter-combo" />
                    <ComboBox fx:id="filterDate" prefWidth="120" promptText="Toutes les dates" styleClass="filter-combo" />
                </HBox>
            </HBox>
            
            <!-- Ligne décorative sous la barre de navigation -->
            <Line startX="0" endX="1280" stroke="#e0e0e0" strokeWidth="1.0" />
        </VBox>
    </top>
    
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="transparent-scroll-pane">
            <VBox spacing="20" style="-fx-padding: 20;">
                <!-- Section "Cette semaine" avec style amélioré -->
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Événements cette semaine" styleClass="section-title">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                        <Rectangle height="2" width="200" fill="#3498db" />
                    </HBox>
                    
                    <!-- Conteneur pour les événements de cette semaine avec mise en page améliorée -->
                    <FlowPane fx:id="thisWeekEventsContainer" hgap="15" vgap="15" prefWrapLength="1200">
                        <!-- Les événements seront ajoutés dynamiquement ici -->
                    </FlowPane>
                </VBox>
                
                <!-- Section "Prochainement" avec style amélioré -->
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Prochainement" styleClass="section-title">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                        <Rectangle height="2" width="200" fill="#2ecc71" />
                    </HBox>
                    
                    <!-- Conteneur pour les événements à venir avec mise en page améliorée -->
                    <FlowPane fx:id="upcomingEventsContainer" hgap="15" vgap="15" prefWrapLength="1200">
                        <!-- Les événements à venir seront ajoutés dynamiquement ici -->
                    </FlowPane>
                </VBox>
                
                <!-- Section "Tous les événements" avec style amélioré -->
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Catalogue complet" styleClass="section-title">
                            <font>
                                <Font name="System Bold" size="18.0" />
                            </font>
                        </Label>
                        <Rectangle height="2" width="200" fill="#9b59b6" />
                    </HBox>
                    
                    <!-- Conteneur pour tous les événements avec mise en page améliorée -->
                    <FlowPane fx:id="eventsContainer" hgap="15" vgap="15" prefWrapLength="1200">
                        <!-- Les événements seront ajoutés dynamiquement ici -->
                    </FlowPane>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
    
    <bottom>
        <HBox alignment="CENTER" style="-fx-background-color: #f8f9fa; -fx-padding: 10;">
            <Label text="© 2024 Artphoria - Tous droits réservés" style="-fx-font-size: 10pt; -fx-text-fill: #757575;" />
        </HBox>
    </bottom>
</BorderPane> 