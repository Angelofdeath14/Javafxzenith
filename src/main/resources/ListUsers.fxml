<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controller.ListUsersController"
            stylesheets="@style.css"
            prefWidth="1200" prefHeight="800"
            style="-fx-background-color: white;">

    <!-- Custom window header -->
    <HBox styleClass="window-header"
          AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
          prefHeight="30">
        <Label text="Gestion des Utilisateurs" styleClass="window-title"/>
    </HBox>

    <!-- Sidebar -->
    <VBox layoutY="30.0" prefHeight="770.0" prefWidth="200" styleClass="sidebar"
          AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="30.0">
        <Button fx:id="btnDashboard" onAction="#refreshDashboard" styleClass="button-route" text="Tableau de bord"/>
        <Button fx:id="btnEvents" onAction="#goToEvents" styleClass="button-route" text="Événements"/>
        <Button fx:id="btnAddEvent" onAction="#goToAddEvent" styleClass="button-route" text="Ajouter un événement"/>

        <Button fx:id="btnUsers" onAction="#goToUsers" styleClass="button-route" text="Utilisateurs"/>
        <Button fx:id="btnProduit" onAction="#goToProduit" styleClass="button-route" text="Produits"/>
        <Button fx:id="btnCommands" onAction="#goToCommands" styleClass="button-route" text="Commands"/>
        <Button fx:id="btnReclamation" onAction="#goToReclamation" styleClass="button-route" text="Reclamation"/>

        <Button fx:id="btnLogout" onAction="#logout" styleClass="button-route" text="Déconnexion"/>
    </VBox>

    <!-- User avatar & name -->
    <HBox spacing="5" AnchorPane.topAnchor="5" AnchorPane.rightAnchor="20">
        <Circle fx:id="imgCircle" radius="13" fill="DODGERBLUE" stroke="BLACK"/>
        <Text fx:id="currentUserName" text="Utilisateur">
            <font>
                <Font name="System Bold" size="14"/>
            </font>
        </Text>
    </HBox>

    <!-- Main Content -->
    <ScrollPane fx:id="scrollPane"
                AnchorPane.topAnchor="50" AnchorPane.leftAnchor="220"
                AnchorPane.rightAnchor="20" AnchorPane.bottomAnchor="20">
        <VBox fx:id="mainContainer" spacing="20" styleClass="main-content">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- Section title -->
            <Label text="Liste des Utilisateurs" styleClass="header-title">
                <font>
                    <Font name="System Bold" size="24"/>
                </font>
            </Label>

            <!-- Users table -->
            <TreeTableView fx:id="tableView" VBox.vgrow="ALWAYS" prefHeight="500">
                <columns>
                    <TreeTableColumn fx:id="ftId"       text="ID"            prefWidth="60"/>
                    <TreeTableColumn fx:id="ftfirst_name" text="First Name"   prefWidth="150"/>
                    <TreeTableColumn fx:id="ftlast_name"  text="Last Name"    prefWidth="150"/>
                    <TreeTableColumn fx:id="ftEmail"      text="Email"        prefWidth="250"/>
                    <TreeTableColumn fx:id="ftStatus"     text="Status"       prefWidth="100"/>
                    <TreeTableColumn fx:id="ftAction"     text="Actions"      prefWidth="200"/>
                </columns>
            </TreeTableView>

        </VBox>
    </ScrollPane>

</AnchorPane>
